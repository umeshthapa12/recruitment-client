<div class="animated fadeIn">
    <div matDialogTitle>
        <div class="row m-login__form-sub">
            <div class="col m--align-left">
                <h4 class="m--font-brand">Update Contact Person</h4>
            </div>
            <div class="col m--align-right">
                <a matRipple
                    class="m-portlet__nav-link btn btn-outline-metal m-btn m-btn--icon m-btn--icon-only m-btn--outline-2x m-btn--pill pull-right" (click)="onCancel()">
                    <i class="la la-close"></i>
                </a>
            </div>
        </div>
    </div>
    <div class="m-separator m-separator--dashed mt-2 mb-3"></div>
    <div id="res-messages" class="alert m-alert m-alert--air" role="alert"
        [ngClass]="{'alert-danger':isError, 'alert-success':!isError}" *ngIf="responseMessage || errors?.length>0">
        <button type="button" class="close pt-0" aria-label="Close" (click)="clearErrors()"></button>
        <span *ngIf="errors?.length > 0; else msgBlock">
            <span class="row" [@fadeInOutErrors]="errors?.length">
                <div class="col-12 mb-1 m--font-bolder"> {{ responseMessage}} </div>
                <div class="col-6" *ngFor="let e of  errors"> {{e.message}} </div>
            </span>
        </span>
        <ng-template #msgBlock> {{ responseMessage}} </ng-template>
    </div>
    <form class="m-form" [formGroup]="cForm" (ngSubmit)="onSubmit()" autocomplete="off">
        <div matDialogContent>
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group ">
                        <mat-form-field appearance="outline" class="w-100">
                            <mat-label>Person Name</mat-label>
                            <input matInput formControlName="contactPersonName" placeholder="Contact person full name"
                                required>
                            <mat-error class="m--font-danger" *ngIf="displayMessage?.contactPersonName">
                                {{displayMessage?.contactPersonName}}
                            </mat-error>
                        </mat-form-field>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group ">
                        <mat-form-field appearance="outline" class="w-100">
                            <mat-label>Person Designation</mat-label>
                            <input matInput formControlName="contactPersonDesignation"
                                placeholder="Contact person designation">
                        </mat-form-field>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group ">
                        <mat-form-field appearance="outline" class="w-100">
                            <mat-label>Person Cell / Phone</mat-label>
                            <input matInput formControlName="contactPersonPhone" placeholder="Contact person full name"
                                required>
                            <mat-error class="m--font-danger" *ngIf="displayMessage?.contactPersonPhone">
                                {{displayMessage?.contactPersonPhone}}
                            </mat-error>
                        </mat-form-field>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group ">
                        <mat-form-field appearance="outline" class="w-100">
                            <mat-label>Person Address</mat-label>
                            <input matInput formControlName="contactPersonAddress" placeholder="Contact person address">
                        </mat-form-field>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group ">
                        <mat-form-field appearance="outline" class="w-100">
                            <mat-label>Person Email</mat-label>
                            <input matInput formControlName="contactPersonEmail" placeholder="Contact person email">
                        </mat-form-field>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group ">
                        <mat-form-field appearance="outline" class="w-100">
                            <mat-label>Person Description</mat-label>
                            <input matInput formControlName="contactPersonDescription"
                                placeholder="Contact person description">
                        </mat-form-field>
                    </div>
                </div>
            </div>
        </div>
        <div class="m-separator m-separator--dashed m--space-10"></div>
        <div style="display: flex; justify-content: center">
            <button matTooltip="Save changes" matTooltipPosition="above"
                class="btn btn-secondary m-btn m-btn--icon m-btn--icon-only m-btn--pill"
                [ngClass]="{'m-loader m-loader--info':isWorking, 'm-btn--hover-accent':!isWorking}">
                <i *ngIf="!isWorking" class="la la-check"></i>
            </button>
            <button type="button" [disabled]="isWorking" (click)="onCancel()" matTooltip="Cancel"
                matTooltipPosition="above"
                class="btn btn-default m-btn--hover-metal m-btn m-btn--icon m-btn--icon-only m-btn--pill mx-1">
                <i class="la la-close"></i>
            </button>
        </div>
    </form>
</div>